# sonar-project.properties
# File location: ROOT DIRECTORY (same level as docker-compose.yml)
# SonarQube Configuration for CSB DevSecOps Test Environment

# Project identification
sonar.projectKey=csb-devsecops-test
sonar.projectName=CSB DevSecOps Test Environment
sonar.projectVersion=1.0
sonar.organization=csb-security

# Source code configuration
sonar.sources=.
sonar.sourceEncoding=UTF-8

# Exclusions - files and directories to ignore
sonar.exclusions=\
    **/node_modules/**,\
    **/target/**,\
    **/build/**,\
    **/dist/**,\
    **/*.log,\
    **/security-reports/**,\
    **/databases/**,\
    **/.git/**,\
    **/.devcontainer/**,\
    **/docker-compose*.yml,\
    **/Dockerfile*,\
    **/.env*,\
    **/README*.md

# Language-specific configurations
# Java
sonar.java.source=11
sonar.java.target=11
sonar.java.binaries=**/target/classes,**/build/classes

# JavaScript/TypeScript
sonar.javascript.lcov.reportPaths=**/coverage/lcov.info
sonar.typescript.lcov.reportPaths=**/coverage/lcov.info

# Python
sonar.python.coverage.reportPaths=**/coverage.xml

# C#
sonar.cs.dotcover.reportsPaths=**/dotCover.html
sonar.cs.opencover.reportsPaths=**/coverage.opencover.xml

# PHP
sonar.php.coverage.reportPaths=**/coverage.xml

# Test configurations
sonar.test.exclusions=\
    **/*test*/**,\
    **/*Test*/**,\
    **/*spec*/**,\
    **/*Spec*/**

# SonarQube server configuration
sonar.host.url=http://localhost:9000
sonar.login=admin
sonar.password=admin

# Quality gate configuration
sonar.qualitygate.wait=true

# Coverage settings
sonar.coverage.exclusions=\
    **/*test*/**,\
    **/*Test*/**,\
    **/*mock*/**,\
    **/*Mock*/**

# Security settings
sonar.security.hotspots.inheritFromParent=true

# Code smell settings
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore some rules for intentional vulnerabilities in test environment
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S2068
sonar.issue.ignore.multicriteria.e1.resourceKey=**

sonar.issue.ignore.multicriteria.e2.ruleKey=java:S2068
sonar.issue.ignore.multicriteria.e2.resourceKey=**

sonar.issue.ignore.multicriteria.e3.ruleKey=python:S2068
sonar.issue.ignore.multicriteria.e3.resourceKey=**

# Performance settings
sonar.scm.disabled=false
sonar.scm.provider=git

# Analysis parameters
sonar.analysisCache.enabled=true